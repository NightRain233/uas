# 伸缩规则

UAS支持两种规则，CPU负载，健康检查。可组合使用。

## CPU负载

根据集群CPU的平均负载，可以设定用户认为CPU负载的目标值，UAS会帮助用户将负载维持在目标值左右，无需用户关注增加减少台数，UAS会自动根据目标值计算每一次规则触发所需要变更的台数，一次性为用户达到目标负载值。

<!--
## MEM负载

根据集群MEM的平均负载，可以设定用户认为MEM负载的目标值，UAS会帮助用户将负载维持在目标值左右，无需用户关注增加减少台数，UAS会自动根据目标值计算每一次规则触发所需要变更的台数，一次性为用户达到目标负载值。

## 固定数量

固定数量可将用户ULB下VServer 的节点数量控制在一个恒定值，固定数量需要在整个伸缩任务的最小/最大数量范围内。当固定数量规则生效时，UAS会忽略CPU和MEM的规则无法同时使用。
-->

## 健康检查

ULB的VServer有着自动对节点进行健康与否的扫描，UAS会根据扫描的状态，自动剔除不健康的节点，使集群内的节点保持可用状态。如将某一台主机进行关机，当开启健康检查规则后，这台机器会被UAS进行释放。如无其他规则（如数量，负载）同时触发，UAS并不会主动补充新的节点进入ULB，当前ULB仍然被认为是个稳定集群。

# 操作指南

## 前提
1. 伸缩组创建完成
2. 伸缩组主机配置设置完成

## 设置伸缩规则
- 点击伸缩组详情
  ![](/images/set_rules.png)
- 查看主机配置是否ok
  ![](/images/set_rules2.png)
- 切换至规则，即可看到CPU，健康检查两种伸缩规则
  ![](/images/set_rules3.png)
- 这里以CPU规则为例：
   - 点击目标值旁的编辑按钮
     ![](/images/set_rules4.png)
   - 根据您的业务情况设置CPU的平均负载值，点击确认
     ![](/images/set_rules5.png)
   - 最后选择启用即可
     ![](/images/set_rules6.png)
